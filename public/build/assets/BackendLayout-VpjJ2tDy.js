import{_ as fe,u as w,b as he,E as be,d as te,w as ze,a as Me}from"./base-Brf_yBAJ.js";import{E as Le,a as Re,b as We,c as De}from"./el-main-B-uvYUl6.js";import{C as X,o as O,c as ge,w as k,A as N,a4 as je,a8 as Fe,aF as Q,aH as ce,ar as Ve,f as b,G as ne,aA as oe,r as x,a5 as He,ae as qe,p as Ie,g as Y,D as ve,y as se,H as Se,S as g,a0 as F,j as $e,L as Ge,N as Ce,E as _e,aU as xe,aV as Ue,a2 as Xe,aC as Ze,U as ke,a9 as Te,X as Je,a7 as Ke,h as Qe,i as U,b as L,n as ae,d as Ye,t as et,F as Ee,a as _}from"./app-lsMHx7PK.js";import{H as tt}from"./Header-CGSCE_LC.js";import"./el-tooltip-l0sNRNKZ.js";import{t as ee,E as we}from"./el-popper-BSwFi-Wn.js";import{_ as nt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{k as ot}from"./use-form-common-props-D5ONMDRx.js";import{E as S}from"./aria-n-U01RP3.js";import{E as at}from"./index-C6QJe-xJ.js";import{T as st}from"./el-button-DwHekHmB.js";import{i as G}from"./icon-Domd4CnA.js";import{C as lt}from"./index-BDtxBZdR.js";import{m as ut}from"./typescript-Bp3YSIOJ.js";import{f as it}from"./vnode-DOoyDGs4.js";let rt=class{constructor(n,t){this.parent=n,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(n){n===this.subMenuItems.length?n=0:n<0&&(n=this.subMenuItems.length-1),this.subMenuItems[n].focus(),this.subIndex=n}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,t=>{t.addEventListener("keydown",i=>{let o=!1;switch(i.code){case S.down:{this.gotoSubIndex(this.subIndex+1),o=!0;break}case S.up:{this.gotoSubIndex(this.subIndex-1),o=!0;break}case S.tab:{ee(n,"mouseleave");break}case S.enter:case S.numpadEnter:case S.space:{o=!0,i.currentTarget.click();break}}return o&&(i.preventDefault(),i.stopPropagation()),!1})})}},ct=class{constructor(n,t){this.domNode=n,this.submenu=null,this.submenu=null,this.init(t)}init(n){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${n}-menu`);t&&(this.submenu=new rt(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",n=>{let t=!1;switch(n.code){case S.down:{ee(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break}case S.up:{ee(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break}case S.tab:{ee(n.currentTarget,"mouseleave");break}case S.enter:case S.numpadEnter:case S.space:{t=!0,n.currentTarget.click();break}}t&&n.preventDefault()})}},dt=class{constructor(n,t){this.domNode=n,this.init(t)}init(n){const t=this.domNode.childNodes;Array.from(t).forEach(i=>{i.nodeType===1&&new ct(i,n)})}};const mt=X({name:"ElMenuCollapseTransition",setup(){const e=w("menu");return{listeners:{onBeforeEnter:t=>t.style.opacity="0.2",onEnter(t,i){Q(t,`${e.namespace.value}-opacity-transition`),t.style.opacity="1",i()},onAfterEnter(t){ce(t,`${e.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),Ve(t,e.m("collapse"))?(ce(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),Q(t,e.m("collapse"))):(Q(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),ce(t,e.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(t){Q(t,"horizontal-collapse-transition"),t.style.width=`${t.dataset.scrollWidth}px`}}}}});function pt(e,n,t,i,o,v){return O(),ge(Fe,je({mode:"out-in"},e.listeners),{default:k(()=>[N(e.$slots,"default")]),_:3},16)}var vt=fe(mt,[["render",pt],["__file","menu-collapse-transition.vue"]]);function Ne(e,n){const t=b(()=>{let o=e.parent;const v=[n.value];for(;o.type.name!=="ElMenu";)o.props.index&&v.unshift(o.props.index),o=o.parent;return v});return{parentMenu:b(()=>{let o=e.parent;for(;o&&!["ElMenu","ElSubMenu"].includes(o.type.name);)o=o.parent;return o}),indexPath:t}}function ft(e){return b(()=>{const t=e.backgroundColor;return t?new st(t).shade(20).toString():""})}const Oe=(e,n)=>{const t=w("menu");return b(()=>t.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":ft(e).value||"","active-color":e.activeTextColor||"",level:`${n}`}))},ht=he({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:G},expandOpenIcon:{type:G},collapseCloseIcon:{type:G},collapseOpenIcon:{type:G}}),de="ElSubMenu";var ye=X({name:de,props:ht,setup(e,{slots:n,expose:t}){const i=_e(),{indexPath:o,parentMenu:v}=Ne(i,b(()=>e.index)),c=w("menu"),M=w("sub-menu"),u=ne("rootMenu");u||oe(de,"can not inject root menu");const m=ne(`subMenu:${v.value.uid}`);m||oe(de,"can not inject sub menu");const p=x({}),I=x({});let y;const T=x(!1),le=x(),Z=x(null),P=b(()=>B.value==="horizontal"&&A.value?"bottom-start":"right-start"),R=b(()=>B.value==="horizontal"&&A.value||B.value==="vertical"&&!u.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?$.value?e.expandOpenIcon:e.expandCloseIcon:He:e.collapseCloseIcon&&e.collapseOpenIcon?$.value?e.collapseOpenIcon:e.collapseCloseIcon:qe),A=b(()=>m.level===0),V=b(()=>{const l=e.teleported;return l===void 0?A.value:l}),ue=b(()=>u.props.collapse?`${c.namespace.value}-zoom-in-left`:`${c.namespace.value}-zoom-in-top`),ie=b(()=>B.value==="horizontal"&&A.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),$=b(()=>u.openedMenus.includes(e.index)),W=b(()=>{let l=!1;return Object.values(p.value).forEach(d=>{d.active&&(l=!0)}),Object.values(I.value).forEach(d=>{d.active&&(l=!0)}),l}),B=b(()=>u.props.mode),D=Ie({index:e.index,indexPath:o,active:W}),H=Oe(u.props,m.level+1),J=b(()=>{var l;return(l=e.popperOffset)!=null?l:u.props.popperOffset}),j=b(()=>{var l;return(l=e.popperClass)!=null?l:u.props.popperClass}),K=b(()=>{var l;return(l=e.showTimeout)!=null?l:u.props.showTimeout}),re=b(()=>{var l;return(l=e.hideTimeout)!=null?l:u.props.hideTimeout}),a=()=>{var l,d,C;return(C=(d=(l=Z.value)==null?void 0:l.popperRef)==null?void 0:d.popperInstanceRef)==null?void 0:C.destroy()},s=l=>{l||a()},r=()=>{u.props.menuTrigger==="hover"&&u.props.mode==="horizontal"||u.props.collapse&&u.props.mode==="vertical"||e.disabled||u.handleSubMenuClick({index:e.index,indexPath:o.value,active:W.value})},f=(l,d=K.value)=>{var C;if(l.type!=="focus"){if(u.props.menuTrigger==="click"&&u.props.mode==="horizontal"||!u.props.collapse&&u.props.mode==="vertical"||e.disabled){m.mouseInChild.value=!0;return}m.mouseInChild.value=!0,y==null||y(),{stop:y}=xe(()=>{u.openMenu(e.index,o.value)},d),V.value&&((C=v.value.vnode.el)==null||C.dispatchEvent(new MouseEvent("mouseenter")))}},h=(l=!1)=>{var d;if(u.props.menuTrigger==="click"&&u.props.mode==="horizontal"||!u.props.collapse&&u.props.mode==="vertical"){m.mouseInChild.value=!1;return}y==null||y(),m.mouseInChild.value=!1,{stop:y}=xe(()=>!T.value&&u.closeMenu(e.index,o.value),re.value),V.value&&l&&((d=m.handleMouseleave)==null||d.call(m,!0))};Y(()=>u.props.collapse,l=>s(!!l));{const l=C=>{I.value[C.index]=C},d=C=>{delete I.value[C.index]};ve(`subMenu:${i.uid}`,{addSubMenu:l,removeSubMenu:d,handleMouseleave:h,mouseInChild:T,level:m.level+1})}return t({opened:$}),se(()=>{u.addSubMenu(D),m.addSubMenu(D)}),Se(()=>{m.removeSubMenu(D),u.removeSubMenu(D)}),()=>{var l;const d=[(l=n.title)==null?void 0:l.call(n),g(be,{class:M.e("icon-arrow"),style:{transform:$.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&u.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>F(R.value)?g(i.appContext.components[R.value]):g(R.value)})],C=u.isMenuPopup?g(we,{ref:Z,visible:$.value,effect:"light",pure:!0,offset:J.value,showArrow:!1,persistent:!0,popperClass:j.value,placement:P.value,teleported:V.value,fallbackPlacements:ie.value,transition:ue.value,gpuAcceleration:!1},{content:()=>{var E;return g("div",{class:[c.m(B.value),c.m("popup-container"),j.value],onMouseenter:z=>f(z,100),onMouseleave:()=>h(!0),onFocus:z=>f(z,100)},[g("ul",{class:[c.b(),c.m("popup"),c.m(`popup-${P.value}`)],style:H.value},[(E=n.default)==null?void 0:E.call(n)])])},default:()=>g("div",{class:M.e("title"),onClick:r},d)}):g(Ce,{},[g("div",{class:M.e("title"),ref:le,onClick:r},d),g(at,{},{default:()=>{var E;return $e(g("ul",{role:"menu",class:[c.b(),c.m("inline")],style:H.value},[(E=n.default)==null?void 0:E.call(n)]),[[Ge,$.value]])}})]);return g("li",{class:[M.b(),M.is("active",W.value),M.is("opened",$.value),M.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:$.value,onMouseenter:f,onMouseleave:()=>h(),onFocus:f},[C])}}});const bt=he({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:te(Array),default:()=>ut([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:G,default:()=>Ue},popperEffect:{type:te(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),me=e=>Te(e)&&e.every(n=>F(n)),Mt={close:(e,n)=>F(e)&&me(n),open:(e,n)=>F(e)&&me(n),select:(e,n,t,i)=>F(e)&&me(n)&&Ze(t)&&(i===void 0||i instanceof Promise)};var gt=X({name:"ElMenu",props:bt,emits:Mt,setup(e,{emit:n,slots:t,expose:i}){const o=_e(),v=o.appContext.config.globalProperties.$router,c=x(),M=w("menu"),u=w("sub-menu"),m=x(-1),p=x(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),I=x(e.defaultActive),y=x({}),T=x({}),le=b(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),Z=()=>{const a=I.value&&y.value[I.value];if(!a||e.mode==="horizontal"||e.collapse)return;a.indexPath.forEach(r=>{const f=T.value[r];f&&P(r,f.indexPath)})},P=(a,s)=>{p.value.includes(a)||(e.uniqueOpened&&(p.value=p.value.filter(r=>s.includes(r))),p.value.push(a),n("open",a,s))},R=a=>{const s=p.value.indexOf(a);s!==-1&&p.value.splice(s,1)},A=(a,s)=>{R(a),n("close",a,s)},V=({index:a,indexPath:s})=>{p.value.includes(a)?A(a,s):P(a,s)},ue=a=>{(e.mode==="horizontal"||e.collapse)&&(p.value=[]);const{index:s,indexPath:r}=a;if(!(ke(s)||ke(r)))if(e.router&&v){const f=a.route||s,h=v.push(f).then(l=>(l||(I.value=s),l));n("select",s,r,{index:s,indexPath:r,route:f},h)}else I.value=s,n("select",s,r,{index:s,indexPath:r})},ie=a=>{const s=y.value,r=s[a]||I.value&&s[I.value]||s[e.defaultActive];r?I.value=r.index:I.value=a},$=a=>{const s=getComputedStyle(a),r=Number.parseInt(s.marginLeft,10),f=Number.parseInt(s.marginRight,10);return a.offsetWidth+r+f||0},W=()=>{var a,s;if(!c.value)return-1;const r=Array.from((s=(a=c.value)==null?void 0:a.childNodes)!=null?s:[]).filter(q=>q.nodeName!=="#comment"&&(q.nodeName!=="#text"||q.nodeValue)),f=64,h=getComputedStyle(c.value),l=Number.parseInt(h.paddingLeft,10),d=Number.parseInt(h.paddingRight,10),C=c.value.clientWidth-l-d;let E=0,z=0;return r.forEach((q,Be)=>{E+=$(q),E<=C-f&&(z=Be+1)}),z===r.length?-1:z},B=a=>T.value[a].indexPath,D=(a,s=33.34)=>{let r;return()=>{r&&clearTimeout(r),r=setTimeout(()=>{a()},s)}};let H=!0;const J=()=>{if(m.value===W())return;const a=()=>{m.value=-1,Je(()=>{m.value=W()})};H?a():D(a)(),H=!1};Y(()=>e.defaultActive,a=>{y.value[a]||(I.value=""),ie(a)}),Y(()=>e.collapse,a=>{a&&(p.value=[])}),Y(y.value,Z);let j;Xe(()=>{e.mode==="horizontal"&&e.ellipsis?j=ot(c,J).stop:j==null||j()});const K=x(!1);{const a=h=>{T.value[h.index]=h},s=h=>{delete T.value[h.index]};ve("rootMenu",Ie({props:e,openedMenus:p,items:y,subMenus:T,activeIndex:I,isMenuPopup:le,addMenuItem:h=>{y.value[h.index]=h},removeMenuItem:h=>{delete y.value[h.index]},addSubMenu:a,removeSubMenu:s,openMenu:P,closeMenu:A,handleMenuItemClick:ue,handleSubMenuClick:V})),ve(`subMenu:${o.uid}`,{addSubMenu:a,removeSubMenu:s,mouseInChild:K,level:0})}se(()=>{e.mode==="horizontal"&&new dt(o.vnode.el,M.namespace.value)}),i({open:s=>{const{indexPath:r}=T.value[s];r.forEach(f=>P(f,r))},close:R,handleResize:J});const re=Oe(e,0);return()=>{var a,s;let r=(s=(a=t.default)==null?void 0:a.call(t))!=null?s:[];const f=[];if(e.mode==="horizontal"&&c.value){const d=it(r),C=m.value===-1?d:d.slice(0,m.value),E=m.value===-1?[]:d.slice(m.value);E!=null&&E.length&&e.ellipsis&&(r=C,f.push(g(ye,{index:"sub-menu-more",class:u.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>g(be,{class:u.e("icon-more")},{default:()=>g(e.ellipsisIcon)}),default:()=>E})))}const h=e.closeOnClickOutside?[[lt,()=>{p.value.length&&(K.value||(p.value.forEach(d=>n("close",d,B(d))),p.value=[]))}]]:[],l=$e(g("ul",{key:String(e.collapse),role:"menubar",ref:c,style:re.value,class:{[M.b()]:!0,[M.m(e.mode)]:!0,[M.m("collapse")]:e.collapse}},[...r,...f]),h);return e.collapseTransition&&e.mode==="vertical"?g(vt,()=>l):l}}});const It=he({index:{type:te([String,null]),default:null},route:{type:te([String,Object])},disabled:Boolean}),Ct={click:e=>F(e.index)&&Te(e.indexPath)},pe="ElMenuItem",_t=X({name:pe,components:{ElTooltip:we},props:It,emits:Ct,setup(e,{emit:n}){const t=_e(),i=ne("rootMenu"),o=w("menu"),v=w("menu-item");i||oe(pe,"can not inject root menu");const{parentMenu:c,indexPath:M}=Ne(t,Ke(e,"index")),u=ne(`subMenu:${c.value.uid}`);u||oe(pe,"can not inject sub menu");const m=b(()=>e.index===i.activeIndex),p=Ie({index:e.index,indexPath:M,active:m}),I=()=>{e.disabled||(i.handleMenuItemClick({index:e.index,indexPath:M.value,route:e.route}),n("click",p))};return se(()=>{u.addSubMenu(p),i.addMenuItem(p)}),Se(()=>{u.removeSubMenu(p),i.removeMenuItem(p)}),{parentMenu:c,rootMenu:i,active:m,nsMenu:o,nsMenuItem:v,handleClick:I}}});function yt(e,n,t,i,o,v){const c=Qe("el-tooltip");return O(),U("li",{class:ae([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:e.handleClick},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(O(),ge(c,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:k(()=>[N(e.$slots,"title")]),default:k(()=>[L("div",{class:ae(e.nsMenu.be("tooltip","trigger"))},[N(e.$slots,"default")],2)]),_:3},8,["effect"])):(O(),U(Ce,{key:1},[N(e.$slots,"default"),N(e.$slots,"title")],64))],10,["onClick"])}var Pe=fe(_t,[["render",yt],["__file","menu-item.vue"]]);const xt={title:String},kt="ElMenuItemGroup",Et=X({name:kt,props:xt,setup(){return{ns:w("menu-item-group")}}});function St(e,n,t,i,o,v){return O(),U("li",{class:ae(e.ns.b())},[L("div",{class:ae(e.ns.e("title"))},[e.$slots.title?N(e.$slots,"title",{key:1}):(O(),U(Ce,{key:0},[Ye(et(e.title),1)],64))],2),L("ul",null,[N(e.$slots,"default")])],2)}var Ae=fe(Et,[["render",St],["__file","menu-item-group.vue"]]);const $t=ze(gt,{MenuItem:Pe,MenuItemGroup:Ae,SubMenu:ye}),Tt=Me(Pe);Me(Ae);Me(ye);const wt={class:"aside"},Nt={__name:"Aside",setup(e){const n=x(window.location.pathname);se(()=>{Ee.on("navigate",()=>{n.value=window.location.pathname})});const t=i=>{Ee.visit(route(i))};return(i,o)=>{const v=be,c=Tt,M=$t;return O(),U("div",wt,[_(M,{"default-active":n.value,class:"el-menu-vertical-demo"},{default:k(()=>[_(c,{index:"/back/stores",onClick:o[0]||(o[0]=u=>t("stores.index"))},{default:k(()=>[_(v),o[4]||(o[4]=L("span",null,"stores",-1))]),_:1}),_(c,{index:"/back/products",onClick:o[1]||(o[1]=u=>t("products.index"))},{default:k(()=>[_(v),o[5]||(o[5]=L("span",null,"products",-1))]),_:1}),_(c,{index:"/back/categories",onClick:o[2]||(o[2]=u=>t("categories.index"))},{default:k(()=>[_(v),o[6]||(o[6]=L("span",null,"categories",-1))]),_:1}),_(c,{index:"/back/backorder",onClick:o[3]||(o[3]=u=>t("backorder.index"))},{default:k(()=>[_(v),o[7]||(o[7]=L("span",null,"order",-1))]),_:1})]),_:1},8,["default-active"])])}}},Ot=nt(Nt,[["__scopeId","data-v-06240d48"]]),Kt={__name:"BackendLayout",setup(e){return(n,t)=>{const i=Le,o=Re,v=We,c=De;return O(),ge(c,null,{default:k(()=>[_(i,null,{default:k(()=>[_(tt)]),_:1}),_(c,null,{default:k(()=>[_(o,{width:"200px"},{default:k(()=>[_(Ot)]),_:1}),_(v,null,{default:k(()=>[N(n.$slots,"switch")]),_:3})]),_:3})]),_:3})}}};export{Kt as _};
