import"./base-F7uFyPqh.js";/* empty css                     *//* empty css                 */import{T as w,r as h,f as k,i as E,b as t,a as s,w as a,u as r,d,o as V,l as f}from"./app-8VsGFcX2.js";import{H as j}from"./HelloAnimation-Dm3wd9un.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as z,a as A}from"./index-CsX1ZEWe.js";import{E as C}from"./index-CBTzc5bQ.js";import"./use-form-common-props-CE_wdF9B.js";import"./get-BfPBMtmL.js";import"./isArray-Dxzbedgu.js";import"./index-CASUs_Ks.js";import"./castArray-Ce6QuK0j.js";import"./_baseClone-BW0L-VQ6.js";import"./_Uint8Array-wIZ_amhJ.js";import"./index-BSNKJw_v.js";import"./_initCloneObject-DQCSea_h.js";import"./icon-DHQi6SUz.js";import"./typescript-Bp3YSIOJ.js";import"./event-BB_Ol6Sd.js";import"./index-ChOKfouz.js";import"./index-Cxidya-4.js";const R="/build/assets/0df9a2ae114efbe63df9-Rtu9V_pg.svg",$="/build/assets/facebook-1-svgrepo-com-CDf4bH_0.svg",B={class:"bg-base h-full flex flex-col min-h-screen"},q={class:"flex-1"},H={class:"mt-10 mb-6 flex items-center justify-center"},I={class:"mx-auto max-w-96 space-y-4 p-4"},N={class:"border-card border divide-y rounded-md"},S={class:"px-6 py-4"},Z={class:"block mb-2 relative"},G={class:"relative"},L={class:"block"},P={class:"relative"},T={class:"flex items-center justify-end mb-4"},U={class:"mb-2"},D={class:"mb-2"},W={class:"mx-auto max-w-96 space-y-4 p-4 mb-4 text-center"},J={__name:"Login",props:{canResetPassword:{type:Boolean},status:{type:String},redirect:String},setup(p){const o=w({email:"",password:"",remember:!1,submitted:!1,errors:{email:""},redirect:p.redirect||null}),m=h(),b=k(()=>({email:[{required:!0,message:"手機號碼或Email未填寫",trigger:"submit"},{validator:x,trigger:"submit"}],password:[{required:!0,message:"密碼未填寫",trigger:"submit"}]})),g=()=>o.errors.email="",x=(l,e,n)=>{/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)||/^09\d{8}$/.test(e)||/^\+8869\d{8}$/.test(e)?n():n(new Error("請輸入正確的 Email 或手機號碼"))},v=async()=>{g();try{return await m.value.validate(),!0}catch{return!1}},_=async()=>{await v()&&await o.post(route("login"),{onError:e=>{},onSuccess:()=>{}})},u=l=>{window.location.href=route(l)};return(l,e)=>{const n=C,c=A,y=z;return V(),E("div",B,[t("div",q,[t("nav",H,[s(j)]),t("main",null,[t("div",I,[t("div",N,[e[10]||(e[10]=t("div",{class:"px-6 py-3"},[t("h1",{class:"text-strong font-medium text-2xl font-bold"}," 登入 ")],-1)),t("div",S,[s(y,{model:r(o),class:"demo-ruleForm",rules:b.value,ref_key:"internalFormRef",ref:m},{default:a(()=>[t("div",null,[t("label",Z,[e[4]||(e[4]=t("span",{class:"block text-sm font-medium text-slate-700"},"帳號",-1)),t("div",G,[s(c,{label:"",prop:"email",error:r(o).errors.email,class:"relative w-full"},{default:a(()=>[s(n,{modelValue:r(o).email,"onUpdate:modelValue":e[0]||(e[0]=i=>r(o).email=i),placeholder:"輸入手機號碼或Email",class:"pt-2",type:"text"},null,8,["modelValue"])]),_:1},8,["error"])])]),t("label",L,[e[5]||(e[5]=t("span",{class:"block text-sm font-medium text-slate-700"},"密碼",-1)),t("div",P,[s(c,{label:"",prop:"password",class:"relative w-full"},{default:a(()=>[s(n,{modelValue:r(o).password,"onUpdate:modelValue":e[1]||(e[1]=i=>r(o).password=i),class:"pt-2",type:"password"},null,8,["modelValue"])]),_:1})])])])]),_:1},8,["model","rules"]),t("div",T,[s(r(f),{href:l.route("password.request"),class:"underline text-sm text-blue-700 hover:text-blue-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:a(()=>e[6]||(e[6]=[d(" 忘記密碼? ")])),_:1},8,["href"])]),t("div",null,[t("button",{type:"button",onClick:_,class:"bg-sky-500 hover:bg-sky-600 inline-flex h-9 w-full justify-center items-center rounded-md border border-transparent text-sm text-slate-50 font-bold"}," 登入 ")]),e[9]||(e[9]=t("div",{class:"flex items-center my-4"},[t("hr",{class:"flex-grow border-t border-gray-300"}),t("span",{class:"mx-4 text-gray-500 text-sm"},"or"),t("hr",{class:"flex-grow border-t border-gray-300"})],-1)),t("div",U,[t("button",{class:"bg-transparent inline-flex h-9 w-full justify-center items-center rounded-md border border-gray-300 text-sm font-bold bg-form-hover hover:border-neutral-400",onClick:e[2]||(e[2]=i=>u("auth.google"))},e[7]||(e[7]=[t("span",{class:"inline-flex items-center gap-1.5 focus-within:outline-none focus-visible:outline-none"},[t("img",{alt:"Google",class:"object-contain object-center leading-none shrink-0 size-5",src:R}),d(" 使用google帳號登入 ")],-1)]))]),t("div",D,[t("button",{class:"bg-transparent inline-flex h-9 w-full justify-center items-center rounded-md border border-gray-300 text-sm font-bold bg-form-hover hover:border-neutral-400",onClick:e[3]||(e[3]=i=>u("auth.facebook"))},e[8]||(e[8]=[t("span",{class:"inline-flex items-center gap-1.5 focus-within:outline-none focus-visible:outline-none"},[t("img",{alt:"Google",class:"object-contain object-center leading-none shrink-0 size-5",src:$}),d(" 使用Facebook帳號登入 ")],-1)]))])])])]),t("div",W,[e[12]||(e[12]=d(" 還沒有入會員? ")),s(r(f),{href:l.route("register.phone"),class:"text-blue-600"},{default:a(()=>e[11]||(e[11]=[d(" 註冊 ")])),_:1},8,["href"])])])])])}}},xe=F(J,[["__scopeId","data-v-4c762f27"]]);export{xe as default};
