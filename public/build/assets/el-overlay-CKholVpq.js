import{an as V,C as H,a as R,A as C,S as de,y as te,a2 as fe,H as me,R as _,G as J,f as k,o as z,i as j,b as X,n as w,u as o,t as ve,w as E,c as q,q as pe,k as K,I as se,av as ye,W as ge,aA as be,Y as ne,ar as Q,g as x,bi as Ce,ao as he,aF as we,bj as Ee,aH as ke,r as A,X as Me,E as Te,aU as ee,V as Se,D as Be,a8 as Ie,j as De,a4 as Le,aR as Pe,L as Ae}from"./app-DexmQPYs.js";import{P as W}from"./vnode-BXgEiRvq.js";import{b as G,d as U,u as Z,E as Fe,_ as le,i as Oe,w as $e}from"./base-y2bNDJ1N.js";import{F as ze,i as Ne,c as Ye,d as Re}from"./el-popper-DDu6zN0w.js";import{i as He,C as Xe}from"./icon-Ci95ps6J.js";import{c as Ue}from"./refs-BUt9kmBx.js";import{u as Ve}from"./index-E4srtBzl.js";import{U as ae}from"./event-BB_Ol6Sd.js";import{c as je,d as We}from"./aria-CYg80bpG.js";import{u as oe}from"./index-B-YGbumZ.js";import{u as _e}from"./el-button-S5Ft8LWf.js";const ie=e=>{if(!e)return{onClick:V,onMousedown:V,onMouseup:V};let s=!1,n=!1;return{onClick:i=>{s&&n&&e(i),s=n=!1},onMousedown:i=>{s=i.target===i.currentTarget},onMouseup:i=>{n=i.target===i.currentTarget}}},qe=G({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:U([String,Array,Object])},zIndex:{type:U([String,Number])}}),Ke={click:e=>e instanceof MouseEvent},xe="overlay";var Ge=H({name:"ElOverlay",props:qe,emits:Ke,setup(e,{slots:s,emit:n}){const d=Z(xe),l=a=>{n("click",a)},{onClick:r,onMousedown:i,onMouseup:f}=ie(e.customMaskEvent?void 0:l);return()=>e.mask?R("div",{class:[d.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:r,onMousedown:i,onMouseup:f},[C(s,"default")],W.STYLE|W.CLASS|W.PROPS,["onClick","onMouseup","onMousedown"]):de("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[C(s,"default")])}});const Ze=Ge,re=Symbol("dialogInjectionKey"),ue=G({center:Boolean,alignCenter:Boolean,closeIcon:{type:He},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Je={close:()=>!0},Qe=(e,s,n,d)=>{let l={offsetX:0,offsetY:0};const r=u=>{const p=u.clientX,b=u.clientY,{offsetX:g,offsetY:m}=l,v=e.value.getBoundingClientRect(),h=v.left,c=v.top,F=v.width,M=v.height,N=document.documentElement.clientWidth,Y=document.documentElement.clientHeight,O=-h+g,T=-c+m,S=N-h-F+g,B=Y-c-M+m,I=t=>{let L=g+t.clientX-p,$=m+t.clientY-b;d!=null&&d.value||(L=Math.min(Math.max(L,O),S),$=Math.min(Math.max($,T),B)),l={offsetX:L,offsetY:$},e.value&&(e.value.style.transform=`translate(${_(L)}, ${_($)})`)},D=()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",D)};document.addEventListener("mousemove",I),document.addEventListener("mouseup",D)},i=()=>{s.value&&e.value&&s.value.addEventListener("mousedown",r)},f=()=>{s.value&&e.value&&s.value.removeEventListener("mousedown",r)},a=()=>{l={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return te(()=>{fe(()=>{n.value?i():f()})}),me(()=>{f()}),{resetPosition:a}},eo=H({name:"ElDialogContent"}),oo=H({...eo,props:ue,emits:Je,setup(e,{expose:s}){const n=e,{t:d}=Ve(),{Close:l}=Xe,{dialogRef:r,headerRef:i,bodyId:f,ns:a,style:u}=J(re),{focusTrapRef:p}=J(ze),b=k(()=>[a.b(),a.is("fullscreen",n.fullscreen),a.is("draggable",n.draggable),a.is("align-center",n.alignCenter),{[a.m("center")]:n.center}]),g=Ue(p,r),m=k(()=>n.draggable),v=k(()=>n.overflow),{resetPosition:h}=Qe(r,i,m,v);return s({resetPosition:h}),(c,F)=>(z(),j("div",{ref:o(g),class:w(o(b)),style:se(o(u)),tabindex:"-1"},[X("header",{ref_key:"headerRef",ref:i,class:w([o(a).e("header"),{"show-close":c.showClose}])},[C(c.$slots,"header",{},()=>[X("span",{role:"heading","aria-level":c.ariaLevel,class:w(o(a).e("title"))},ve(c.title),11,["aria-level"])]),c.showClose?(z(),j("button",{key:0,"aria-label":o(d)("el.dialog.close"),class:w(o(a).e("headerbtn")),type:"button",onClick:M=>c.$emit("close")},[R(o(Fe),{class:w(o(a).e("close"))},{default:E(()=>[(z(),q(pe(c.closeIcon||o(l))))]),_:1},8,["class"])],10,["aria-label","onClick"])):K("v-if",!0)],2),X("div",{id:o(f),class:w(o(a).e("body"))},[C(c.$slots,"default")],10,["id"]),c.$slots.footer?(z(),j("footer",{key:0,class:w(o(a).e("footer"))},[C(c.$slots,"footer")],2)):K("v-if",!0)],6))}});var to=le(oo,[["__file","dialog-content.vue"]]);const so=G({...ue,appendToBody:Boolean,appendTo:{type:U([String,Object]),default:"body"},beforeClose:{type:U(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),no={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ae]:e=>ye(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},lo=(e,s={})=>{ge(e)||be("[useLockscreen]","You need to pass a ref param to this function");const n=s.ns||Z("popup"),d=k(()=>n.bm("parent","hidden"));if(!ne||Q(document.body,d.value))return;let l=0,r=!1,i="0";const f=()=>{setTimeout(()=>{typeof document>"u"||(ke(document==null?void 0:document.body,d.value),r&&document&&(document.body.style.width=i))},200)};x(e,a=>{if(!a){f();return}r=!Q(document.body,d.value),r&&(i=document.body.style.width),l=Ce(n.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,p=he(document.body,"overflowY");l>0&&(u||p==="scroll")&&r&&(document.body.style.width=`calc(100% - ${l}px)`),we(document.body,d.value)}),Ee(()=>f())},ao=(e,s)=>{var n;const l=Te().emit,{nextZIndex:r}=je();let i="";const f=oe(),a=oe(),u=A(!1),p=A(!1),b=A(!1),g=A((n=e.zIndex)!=null?n:r());let m,v;const h=We("namespace",Oe),c=k(()=>{const y={},P=`--${h.value}-dialog`;return e.fullscreen||(e.top&&(y[`${P}-margin-top`]=e.top),e.width&&(y[`${P}-width`]=_(e.width))),y}),F=k(()=>e.alignCenter?{display:"flex"}:{});function M(){l("opened")}function N(){l("closed"),l(ae,!1),e.destroyOnClose&&(b.value=!1)}function Y(){l("close")}function O(){v==null||v(),m==null||m(),e.openDelay&&e.openDelay>0?{stop:m}=ee(()=>I(),e.openDelay):I()}function T(){m==null||m(),v==null||v(),e.closeDelay&&e.closeDelay>0?{stop:v}=ee(()=>D(),e.closeDelay):D()}function S(){function y(P){P||(p.value=!0,u.value=!1)}e.beforeClose?e.beforeClose(y):T()}function B(){e.closeOnClickModal&&S()}function I(){ne&&(u.value=!0)}function D(){u.value=!1}function t(){l("openAutoFocus")}function L(){l("closeAutoFocus")}function $(y){var P;((P=y.detail)==null?void 0:P.focusReason)==="pointer"&&y.preventDefault()}e.lockScroll&&lo(u);function ce(){e.closeOnPressEscape&&S()}return x(()=>e.modelValue,y=>{y?(p.value=!1,O(),b.value=!0,g.value=Ne(e.zIndex)?r():g.value++,Me(()=>{l("open"),s.value&&(s.value.scrollTop=0)})):u.value&&T()}),x(()=>e.fullscreen,y=>{s.value&&(y?(i=s.value.style.transform,s.value.style.transform=""):s.value.style.transform=i)}),te(()=>{e.modelValue&&(u.value=!0,b.value=!0,O())}),{afterEnter:M,afterLeave:N,beforeLeave:Y,handleClose:S,onModalClick:B,close:T,doClose:D,onOpenAutoFocus:t,onCloseAutoFocus:L,onCloseRequested:ce,onFocusoutPrevented:$,titleId:f,bodyId:a,closed:p,style:c,overlayDialogStyle:F,rendered:b,visible:u,zIndex:g}},io=H({name:"ElDialog",inheritAttrs:!1}),ro=H({...io,props:so,emits:no,setup(e,{expose:s}){const n=e,d=Se();_e({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},k(()=>!!d.title));const l=Z("dialog"),r=A(),i=A(),f=A(),{visible:a,titleId:u,bodyId:p,style:b,overlayDialogStyle:g,rendered:m,zIndex:v,afterEnter:h,afterLeave:c,beforeLeave:F,handleClose:M,onModalClick:N,onOpenAutoFocus:Y,onCloseAutoFocus:O,onCloseRequested:T,onFocusoutPrevented:S}=ao(n,r);Be(re,{dialogRef:r,headerRef:i,bodyId:p,ns:l,rendered:m,style:b});const B=ie(N),I=k(()=>n.draggable&&!n.fullscreen);return s({visible:a,dialogContentRef:f,resetPosition:()=>{var t;(t=f.value)==null||t.resetPosition()}}),(t,L)=>(z(),q(o(Re),{to:t.appendTo,disabled:t.appendTo!=="body"?!1:!t.appendToBody},{default:E(()=>[R(Ie,{name:"dialog-fade",onAfterEnter:o(h),onAfterLeave:o(c),onBeforeLeave:o(F),persisted:""},{default:E(()=>[De(R(o(Ze),{"custom-mask-event":"",mask:t.modal,"overlay-class":t.modalClass,"z-index":o(v)},{default:E(()=>[X("div",{role:"dialog","aria-modal":"true","aria-label":t.title||void 0,"aria-labelledby":t.title?void 0:o(u),"aria-describedby":o(p),class:w(`${o(l).namespace.value}-overlay-dialog`),style:se(o(g)),onClick:o(B).onClick,onMousedown:o(B).onMousedown,onMouseup:o(B).onMouseup},[R(o(Ye),{loop:"",trapped:o(a),"focus-start-el":"container",onFocusAfterTrapped:o(Y),onFocusAfterReleased:o(O),onFocusoutPrevented:o(S),onReleaseRequested:o(T)},{default:E(()=>[o(m)?(z(),q(to,Le({key:0,ref_key:"dialogContentRef",ref:f},t.$attrs,{center:t.center,"align-center":t.alignCenter,"close-icon":t.closeIcon,draggable:o(I),overflow:t.overflow,fullscreen:t.fullscreen,"show-close":t.showClose,title:t.title,"aria-level":t.headerAriaLevel,onClose:o(M)}),Pe({header:E(()=>[t.$slots.title?C(t.$slots,"title",{key:1}):C(t.$slots,"header",{key:0,close:o(M),titleId:o(u),titleClass:o(l).e("title")})]),default:E(()=>[C(t.$slots,"default")]),_:2},[t.$slots.footer?{name:"footer",fn:E(()=>[C(t.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):K("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Ae,o(a)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var uo=le(ro,[["__file","dialog.vue"]]);const Eo=$e(uo);export{Eo as E,Ze as a,lo as b,ie as c,Qe as u};
