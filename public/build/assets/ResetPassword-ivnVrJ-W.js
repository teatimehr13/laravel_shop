import{E as y}from"./base-Brf_yBAJ.js";import{T as h,g,h as V,i,b as e,a as l,e as B,t as n,u as t,j as _,v as f,n as b,c as w,w as x,k as a,o as r}from"./app-lsMHx7PK.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{H as S}from"./HelloAnimation-DksmQcZM.js";const C={class:"bg-base h-full flex flex-col min-h-screen"},T={class:"flex-1"},j={class:"mt-10 mb-6 flex items-center justify-center"},z={class:"mx-auto max-w-96 space-y-4 p-4 mb-4"},N={class:"border-card border divide-y rounded-md"},q={class:"px-6 py-4"},D={class:"mb-4"},F={class:"block"},H={class:"mt-2"},I={class:"mb-4"},M={class:"block"},P={class:"relative"},R={key:0,class:"mt-2 text-red-600 text-sm"},U={class:"mb-4"},W={class:"block"},A={class:"relative"},G={key:0,class:"mt-2 text-red-600 text-sm"},J={key:0,class:"my-2 text-red-600 text-sm"},K=["disabled"],L={__name:"ResetPassword",props:{email:{type:String,required:!0},token:{type:String,required:!0}},setup(v){const m=v,s=h({token:m.token,email:m.email,password:"",password_confirmation:"",submitted:!1}),k=()=>{s.submitted=!0,s.post(route("password.store"),{onBefore:()=>{if(!s.password||!s.password_confirmation||!s.email)return!1},onError:c=>{},onSuccess:()=>s.reset("password","password_confirmation")})};return g(()=>s.password,c=>{s.errors.password&&(s.errors.password="")}),(c,o)=>{const p=V("WarnTriangleFilled"),u=y;return r(),i("div",C,[e("div",T,[e("nav",j,[l(S)]),e("main",null,[e("div",z,[e("div",N,[o[5]||(o[5]=e("div",{class:"px-6 py-3"},[e("h1",{class:"text-strong font-medium text-2xl font-bold"}," 密碼重設 ")],-1)),e("div",q,[e("form",{onSubmit:B(k,["prevent"])},[e("div",D,[e("label",F,[o[2]||(o[2]=e("span",{class:"block text-sm font-medium text-slate-700"},"Email",-1)),e("p",H,n(t(s).email),1)])]),e("div",I,[e("label",M,[o[3]||(o[3]=e("span",{class:"block text-sm font-medium text-slate-700"},"密碼",-1)),e("div",P,[_(e("input",{type:"password","onUpdate:modelValue":o[0]||(o[0]=d=>t(s).password=d),class:b(["input-style",{"input-invalid":t(s).submitted&&(!t(s).password||t(s).errors.password)}])},null,2),[[f,t(s).password]]),t(s).submitted&&(!t(s).password||t(s).errors.password)?(r(),w(u,{key:0,class:"input-invalid-mark",size:"large"},{default:x(()=>[l(p)]),_:1})):a("",!0)]),t(s).submitted&&(!t(s).password||t(s).errors.password)?(r(),i("p",R,n(t(s).password?t(s).errors.password:"請輸入正確的密碼"),1)):a("",!0)])]),e("div",U,[e("label",W,[o[4]||(o[4]=e("span",{class:"block text-sm font-medium text-slate-700"},"再次確認密碼",-1)),e("div",A,[_(e("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=d=>t(s).password_confirmation=d),class:b(["input-style",{"input-invalid":t(s).submitted&&!t(s).password_confirmation}])},null,2),[[f,t(s).password_confirmation]]),t(s).submitted&&!t(s).password_confirmation?(r(),w(u,{key:0,class:"input-invalid-mark",size:"large"},{default:x(()=>[l(p)]),_:1})):a("",!0)]),t(s).submitted&&!t(s).password_confirmation?(r(),i("p",G,n(t(s).password_confirmation?t(s).errors.password:"請輸入正確的密碼"),1)):a("",!0)])]),t(s).errors.email?(r(),i("div",J,n(t(s).errors.email),1)):a("",!0),e("div",null,[e("button",{disabled:t(s).errors.email,class:"bg-sky-500 hover:bg-sky-600 disabled:bg-sky-200 inline-flex h-9 w-full justify-center items-center rounded-md border border-transparent text-sm text-slate-50 font-bold"}," 送出 ",8,K)])],32)])])])])])])}}},Z=E(L,[["__scopeId","data-v-31d36d84"]]);export{Z as default};
