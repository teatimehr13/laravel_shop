import{b as B,d as F,u as D,_ as H,E as L,w as U,a as q}from"./base-Brf_yBAJ.js";import{B as G,a0 as R,a9 as W,r as g,g as S,D as z,f as v,C as E,o as p,i as f,A as x,n as h,u as l,ae as J,G as Q,b as s,d as X,t as m,a as k,w as N,c as Y,q as Z,P as ee,e as se,j as te,L as le,N as K,O as $,k as ae,p as oe}from"./app-lsMHx7PK.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{m as ie}from"./typescript-Bp3YSIOJ.js";import{U as T,C as P}from"./event-BB_Ol6Sd.js";import{c as V}from"./castArray-Ce6QuK0j.js";import{E as re}from"./index-C6QJe-xJ.js";import{i as de}from"./icon-Domd4CnA.js";import{a as ce}from"./index-6SUpneNt.js";import"./isArray-Dxzbedgu.js";const A=t=>G(t)||R(t)||W(t),ue=B({accordion:Boolean,modelValue:{type:F([Array,String,Number]),default:()=>ie([])}}),me={[T]:A,[P]:A},O=Symbol("collapseContextKey"),ve=(t,i)=>{const o=g(V(t.modelValue)),r=e=>{o.value=e;const n=t.accordion?o.value[0]:o.value;i(T,n),i(P,n)},a=e=>{if(t.accordion)r([o.value[0]===e?"":e]);else{const n=[...o.value],c=n.indexOf(e);c>-1?n.splice(c,1):n.push(e),r(n)}};return S(()=>t.modelValue,()=>o.value=V(t.modelValue),{deep:!0}),z(O,{activeNames:o,handleItemClick:a}),{activeNames:o,setActiveNames:r}},pe=()=>{const t=D("collapse");return{rootKls:v(()=>t.b())}},fe=E({name:"ElCollapse"}),ye=E({...fe,props:ue,emits:me,setup(t,{expose:i,emit:o}){const r=t,{activeNames:a,setActiveNames:e}=ve(r,o),{rootKls:n}=pe();return i({activeNames:a,setActiveNames:e}),(c,u)=>(p(),f("div",{class:h(l(n))},[x(c.$slots,"default")],2))}});var Ce=H(ye,[["__file","collapse.vue"]]);const he=B({title:{type:String,default:""},name:{type:F([String,Number]),default:void 0},icon:{type:de,default:J},disabled:Boolean}),_e=t=>{const i=Q(O),{namespace:o}=D("collapse"),r=g(!1),a=g(!1),e=ce(),n=v(()=>e.current++),c=v(()=>{var b;return(b=t.name)!=null?b:`${o.value}-id-${e.prefix}-${l(n)}`}),u=v(()=>i==null?void 0:i.activeNames.value.includes(l(c)));return{focusing:r,id:n,isActive:u,handleFocus:()=>{setTimeout(()=>{a.value?a.value=!1:r.value=!0},50)},handleHeaderClick:()=>{t.disabled||(i==null||i.handleItemClick(l(c)),r.value=!1,a.value=!0)},handleEnterClick:()=>{i==null||i.handleItemClick(l(c))}}},be=(t,{focusing:i,isActive:o,id:r})=>{const a=D("collapse"),e=v(()=>[a.b("item"),a.is("active",l(o)),a.is("disabled",t.disabled)]),n=v(()=>[a.be("item","header"),a.is("active",l(o)),{focusing:l(i)&&!t.disabled}]),c=v(()=>[a.be("item","arrow"),a.is("active",l(o))]),u=v(()=>a.be("item","wrap")),_=v(()=>a.be("item","content")),d=v(()=>a.b(`content-${l(r)}`)),y=v(()=>a.b(`head-${l(r)}`));return{arrowKls:c,headKls:n,rootKls:e,itemWrapperKls:u,itemContentKls:_,scopedContentId:d,scopedHeadId:y}},xe=E({name:"ElCollapseItem"}),ge=E({...xe,props:he,setup(t,{expose:i}){const o=t,{focusing:r,id:a,isActive:e,handleFocus:n,handleHeaderClick:c,handleEnterClick:u}=_e(o),{arrowKls:_,headKls:d,rootKls:y,itemWrapperKls:b,itemContentKls:M,scopedContentId:I,scopedHeadId:w}=be(o,{focusing:r,isActive:e,id:a});return i({isActive:e}),(C,Oe)=>(p(),f("div",{class:h(l(y))},[s("button",{id:l(w),class:h(l(d)),"aria-expanded":l(e),"aria-controls":l(I),"aria-describedby":l(I),tabindex:C.disabled?-1:0,type:"button",onClick:l(c),onKeydown:ee(se(l(u),["stop","prevent"]),["space","enter"]),onFocus:l(n),onBlur:je=>r.value=!1},[x(C.$slots,"title",{},()=>[X(m(C.title),1)]),x(C.$slots,"icon",{isActive:l(e)},()=>[k(l(L),{class:h(l(_))},{default:N(()=>[(p(),Y(Z(C.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),k(l(re),null,{default:N(()=>[te(s("div",{id:l(I),role:"region",class:h(l(b)),"aria-hidden":!l(e),"aria-labelledby":l(w)},[s("div",{class:h(l(M))},[x(C.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[le,l(e)]])]),_:3})],2))}});var j=H(ge,[["__file","collapse-item.vue"]]);const ke=U(Ce,{CollapseItem:j}),Ne=q(j),Ee={key:0},Ie={class:"item-details"},De={class:"flex"},we={class:"flex"},Ke={class:"flex"},$e={class:"flex"},Ve={class:"flex"},Ae=["src"],Be={class:"flex"},Fe={class:"flex"},He={class:"flex"},Se={key:0,class:"flex"},Te={key:1},Pe={__name:"ReturnHistory",props:{historyData:Array,formateDate:Function,toCurrency:Function},setup(t){const i=t,o=g();S(()=>i.historyData,a=>{var e;if(a){const n=oe(i.historyData);o.value=(e=n[0])==null?void 0:e.id}},{immediate:!0});const r=a=>{};return(a,e)=>{const n=Ne,c=ke;return t.historyData&&t.historyData.length>0?(p(),f("div",Ee,[(p(!0),f(K,null,$(t.historyData,(u,_)=>(p(),f("div",{class:"return-con-layout",key:u.id},[s("div",Ie,[s("div",De,[e[1]||(e[1]=s("div",null,"退貨單號",-1)),s("div",null,m(u.return_number),1)]),s("div",we,[e[2]||(e[2]=s("div",null,"申請時間",-1)),s("div",null,m(t.formateDate(u.created_at)),1)]),s("div",Ke,[e[3]||(e[3]=s("div",null,"退貨狀態",-1)),s("div",null,m(u.status),1)]),s("div",$e,[e[4]||(e[4]=s("div",null,"退款總額",-1)),s("div",null,m(t.toCurrency(u.total_refund_amount)),1)]),s("div",Ve,[k(c,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=d=>o.value=d),onChange:r},{default:N(()=>[k(n,{title:"退貨明細",name:u.id},{default:N(()=>[(p(!0),f(K,null,$(u.return_items,(d,y)=>(p(),f("div",{class:"flex",style:{"align-items":"flex-start"},key:y},[s("div",null,[s("img",{src:d.order_item.image,style:{"max-width":"50px"}},null,8,Ae)]),s("div",null,[s("div",Be,[e[5]||(e[5]=s("div",null,"商品名稱",-1)),s("div",null,m(d.name),1)]),s("div",Fe,[e[6]||(e[6]=s("div",null,"退款金額",-1)),s("div",null,m(t.toCurrency(d.unit_price))+" x "+m(d.quantity)+" = "+m(t.toCurrency(d.final_refund)),1)]),s("div",He,[e[7]||(e[7]=s("div",null,"原因",-1)),s("div",null,m(d.reason),1)]),d.description?(p(),f("div",Se,[e[8]||(e[8]=s("div",null,"備註",-1)),s("div",null,m(d.description),1)])):ae("",!0)])]))),128))]),_:2},1032,["name"])]),_:2},1032,["modelValue"])])])]))),128))])):(p(),f("div",Te,e[9]||(e[9]=[s("span",null,"尚無退貨歷史紀錄",-1)])))}}},Xe=ne(Pe,[["__scopeId","data-v-f4f28567"]]);export{Xe as default};
