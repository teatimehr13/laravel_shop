import{E as T}from"./base-iHJmQtcg.js";import{E as $}from"./el-pagination-C6qjtM8v.js";import"./el-tag-CPuyrTQm.js";import{E as z,a as D}from"./el-select-7TH_FEuU.js";import"./el-scrollbar-BLZesUDu.js";import"./el-popper-CJSoZX_d.js";/* empty css                 */import{E as A,a as L}from"./el-table-column-CL3Rj8WP.js";import"./el-checkbox-DaMGGUhv.js";import"./el-tooltip-l0sNRNKZ.js";import{E as M}from"./el-button-CQNoZzvE.js";import{r as g,Q,h as q,c as v,w as r,o as d,b as n,a as o,P as G,d as _,i as w,O as V,N as O,t as c,u as y,l as H,F as C}from"./app-JKzr_vVp.js";import{_ as J}from"./BackendLayout-Cu64dRR4.js";import{f as R,t as W}from"./basic_format-DRyqkFK5.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as Y}from"./index-CcXRvPvX.js";import"./icon-MSFJ_NKx.js";import"./index-CL1ggOOL.js";import"./get-BNOfz7a2.js";import"./isArray-Dxzbedgu.js";import"./typescript-Bp3YSIOJ.js";import"./use-form-common-props-CZDNuDUm.js";import"./index-Cl32T4Tj.js";import"./isEqual-ZMkI4w92.js";import"./_Uint8Array-CSMkYC73.js";import"./index-CSTan3Pl.js";import"./castArray-Ce6QuK0j.js";import"./index-CM0LdUiu.js";import"./aria-CHApNzmi.js";import"./event-BB_Ol6Sd.js";import"./index-Cz3lXVSV.js";import"./_initCloneObject-32_YsKBG.js";import"./el-main-Bf9q-4AZ.js";import"./Header-DYfxgUL-.js";import"./el-col-Db_ElxR5.js";import"./el-avatar-B4DVVCcp.js";import"./refs-Dd4dlhR7.js";import"./index-DBtc7dMN.js";import"./vnode-B6PzXlGy.js";import"./dayjs.min-Dd8mipII.js";import"./index-BLed4XWL.js";const Z={class:"min-h-full"},ee={class:"filters"},te={class:"filters"},oe={class:"example-pagination-block"},le={__name:"Index",props:{orders:Object,filters:Object,order_status_select:Array,payment_method_select:Object},setup(k){const s=k,j=g(s.orders.data),S=Q(),l=g({...s.filters});l.value.order_status=l.value.order_status!=null?Number(l.value.order_status):l.value.order_status;const m=(p=1)=>{const e=Object.fromEntries(Object.entries(l.value).filter(([b,a])=>a!==""));C.get(route("backorder.index"),e)};function F(p){p=S.props.orders.current_page;const e=Object.fromEntries(Object.entries(l.value).filter(([b,a])=>a!==""&&a!==null));C.get(route("backorder.index"),{...e,page:p})}const h={0:{by:"created_at",dir:"desc"},1:{by:"created_at",dir:"asc"},2:{by:"amount",dir:"desc"},3:{by:"amount",dir:"asc"}},x=Object.entries(h).find(([p,e])=>e.by===l.value.sort_by&&e.dir===l.value.sort_dir),E=g(x?Number(x[0]):0),N=p=>{const e=h[p];e&&(l.value.sort_by=e.by,l.value.sort_dir=e.dir,m())};return(p,e)=>{const b=Y,a=z,f=D,u=A,B=q("Search"),I=T,P=M,U=L,K=$;return d(),v(J,null,{switch:r(()=>[n("div",Z,[n("div",ee,[o(b,{modelValue:l.value.order_number,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.order_number=t),placeholder:"輸入訂單編號",style:{width:"240px"},onKeyup:e[1]||(e[1]=G(t=>m(),["enter"]))},null,8,["modelValue"]),o(f,{modelValue:l.value.order_status,"onUpdate:modelValue":e[2]||(e[2]=t=>l.value.order_status=t),placeholder:"訂單狀態",style:{width:"150px"},onChange:e[3]||(e[3]=t=>m())},{default:r(()=>[o(a,{label:"全部",value:""},{default:r(()=>e[8]||(e[8]=[_("全部")])),_:1}),(d(!0),w(O,null,V(s.order_status_select,(t,i)=>(d(),v(a,{key:i,label:t,value:i},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),o(f,{modelValue:l.value.payment_method,"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.payment_method=t),placeholder:"付款方式",style:{width:"150px"},onChange:e[5]||(e[5]=t=>m())},{default:r(()=>[o(a,{label:"全部",value:""},{default:r(()=>e[9]||(e[9]=[_("全部")])),_:1}),(d(!0),w(O,null,V(s.payment_method_select,(t,i)=>(d(),v(a,{key:i,label:t,value:i},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),n("div",te,[o(f,{modelValue:E.value,"onUpdate:modelValue":e[6]||(e[6]=t=>E.value=t),onChange:N,placeholder:"排序依據",style:{width:"200px","margin-right":"10px"}},{default:r(()=>[o(a,{label:"訂單時間（新到舊）",value:0}),o(a,{label:"訂單時間（舊到新）",value:1}),o(a,{label:"金額（高到低）",value:2}),o(a,{label:"金額（低到高）",value:3})]),_:1},8,["modelValue"])]),n("div",null,[o(U,{data:j.value,border:"",style:{width:"100%"}},{default:r(()=>[o(u,{prop:"order_number",label:"訂單編號"}),o(u,{prop:"created_at",label:"建立時間"},{default:r(t=>[n("span",null,c(y(R)(t.row.created_at)),1)]),_:1}),o(u,{prop:"payment_method",label:"付款方式"},{default:r(t=>[n("span",null,c(t.row.payment_method_label),1)]),_:1}),o(u,{prop:"order_status",label:"訂單狀態"},{default:r(t=>[n("span",null,c(t.row.order_status_label),1)]),_:1}),o(u,{prop:"amount",label:"訂單金額",align:"right","class-name":"amount-column"},{default:r(t=>[_(c(y(W)(t.row.amount)),1)]),_:1}),o(u,{label:"操作",align:"center",width:"150px"},{default:r(t=>[n("div",null,[o(P,{link:"",type:"primary"},{default:r(()=>[o(y(H),{href:p.route("backorder.show",t.row.id)},{default:r(()=>[o(I,{style:{"vertical-align":"bottom"}},{default:r(()=>[o(B)]),_:1}),e[10]||(e[10]=_(" 訂單詳情 "))]),_:2},1032,["href"])]),_:2},1024)])]),_:1})]),_:1},8,["data"])]),n("div",oe,[e[11]||(e[11]=n("div",{class:"example-demonstration"},null,-1)),o(K,{layout:"prev, pager, next",total:s.orders.total,"page-size":s.orders.per_page,"current-page":s.orders.current_page,"onUpdate:currentPage":e[7]||(e[7]=t=>s.orders.current_page=t),onCurrentChange:F,background:""},null,8,["total","page-size","current-page"])])])]),_:1})}}},qe=X(le,[["__scopeId","data-v-ca7b1243"]]);export{qe as default};
